# UserGuide.md

## 1. 개요
`HWPX Pipeline`은 Obsidian에서 HWPX 문서를 Markdown으로 변환하고, 다시 HWPX로 내보낼 수 있게 도와주는 플러그인입니다.

지원 기능:
- 단일 HWPX 임포트
- 다중 HWPX 일괄 임포트
- Markdown 편집 후 HWPX 익스포트
- AI 문서 작성 도우미
- 템플릿 관리

## 2. 빠른 시작 (3단계)
1. `Install.md`를 따라 플러그인을 설치합니다.
2. `HWPX 3단계 워크플로우 코치 열기` 모달을 실행합니다.
3. 모달의 1단계/2단계/3단계를 순서대로 진행합니다.

권장 단축키:
- 워크플로우 코치: `Mod + Shift + H`
- 외부 LLM 프롬프트 키트: `Mod + Shift + L`
- 내장 AI 도우미(선택): `Mod + Shift + A`
- 템플릿 관리: `Mod + Shift + T`

## 3. 커맨드 사용법
커맨드 팔레트(`Cmd/Ctrl + P`)에서 아래 명령어를 사용합니다.

- `HWPX 파일 임포트 (→ Markdown)`
- `여러 HWPX 파일 일괄 임포트`
- `현재 노트를 HWPX로 내보내기`
- `AI 문서 작성 도우미`
- `HWPX 3단계 워크플로우 코치 열기`
- `HWPX 외부 LLM 프롬프트 키트 열기`
- `HWPX 템플릿 관리`

## 3.1 문서 포털 활용
- 문서 포털 메인: `https://goodlookingprokim.github.io/obsidian-hwpx-pipeline/`
- 코드 블록 상단에 실행 유형 라벨이 표시됩니다.
- 코드 블록은 모두 복사 버튼을 제공합니다.
- 인라인 값 복사 버튼은 `https://`로 시작하는 값에만 표시됩니다.
- 문서 하단 Source Links는 링크 이동과 URL 복사를 함께 지원합니다.

## 4. 주요 작업 흐름

## 4.1 HWPX 임포트
1. `HWPX 파일 임포트 (→ Markdown)` 실행
2. `.hwpx` 파일 선택
3. `임포트 미리보기` 확인 후 저장
4. 생성된 Markdown 노트 자동 열기

결과:
- 노트 상단에 `hwpx_pipeline` frontmatter 생성
- 템플릿 폴더에 원본 HWPX 저장

## 4.2 여러 파일 일괄 임포트
1. `여러 HWPX 파일 일괄 임포트` 실행
2. 여러 `.hwpx` 파일 선택
3. 처리 완료 메시지에서 성공/건너뜀/실패 건수 확인

권장:
- 대량 이관 시 `파일 충돌 처리`를 `새 버전 저장`으로 설정

## 4.3 2단계: 외부 LLM 협업 작성
1. `HWPX 외부 LLM 프롬프트 키트 열기` 실행
2. 목적에 맞는 프롬프트(구조 유지형/다양화형/점검형) 복사
3. Obsidian과 연동된 외부 LLM(또는 별도 LLM 도구)에 붙여넣기
4. 결과 Markdown을 노트에 반영

핵심:
- 3단계 HWPX 재출력을 위해 제목/표/번호 구조를 유지하세요.
- 문장 개선은 가능하지만 표 행/열 개수는 유지하는 것이 안전합니다.

## 4.4 선택 기능: 내장 AI 문서 작성 도우미
1. `AI 문서 작성 도우미` 실행
2. 프롬프트 입력
3. `참고 컨텍스트` 선택
4. 생성 실행

컨텍스트 옵션:
- `사용 안 함`: 프롬프트만 전송
- `에디터 선택 텍스트`: 선택 영역만 전송
- `현재 문서 전체`: 전체 본문 전송

주의:
- `frontmatter 제외`와 `최대 컨텍스트 길이`를 함께 설정해 데이터 전송량을 관리하세요.

## 4.5 HWPX 익스포트
1. Markdown 노트를 활성화
2. `현재 노트를 HWPX로 내보내기` 실행
3. `익스포트 미리보기` 확인
4. 전달 방식에 따라 Vault 저장/다운로드 진행

전달 방식:
- `Vault 저장 + 다운로드`
- `Vault 저장만`
- `다운로드만`

## 4.6 템플릿 관리
1. `HWPX 템플릿 관리` 실행
2. 템플릿 목록 확인
3. 필요 작업 선택:
- `열기`
- `현재 노트 연결`
- `교체`
- `삭제`

## 5. 설정 설명
`설정 → HWPX Pipeline`

### 5.1 파일 설정
- `템플릿 폴더`: 원본 템플릿 보관 경로
- `출력 폴더`: 변환 결과 저장 경로
- `파일 충돌 처리`: ask/version/skip/overwrite
- `임포트 미리보기`: 저장 전 확인
- `익스포트 미리보기`: 내보내기 전 확인
- `익스포트 결과 전달`: 결과 전달 방식

### 5.2 AI 설정
- `AI 제공자`: OpenAI/Anthropic
- `API 키 저장`: 세션 전용 또는 영구 저장
- `API 키`: 마스킹 입력 지원
- `모델`: 커스텀 모델 지정
- `기본 컨텍스트`: AI 모달 기본값
- `frontmatter 제외`: YAML 제외 전송
- `최대 컨텍스트 길이`: 1000~50000자

## 6. 운영 권장 프리셋

### 6.1 개인 사용자
- 충돌 처리: `매번 물어보기`
- API 키 저장: `OFF`
- 기본 컨텍스트: `선택 텍스트`
- 최대 길이: `8000~12000`

### 6.2 팀/기관 사용자
- 충돌 처리: `새 버전 저장`
- API 키 저장: 정책에 따라 결정
- 기본 컨텍스트: `선택 텍스트`
- frontmatter 제외: `ON`

## 7. 데이터/보안 안내
- API 키는 `세션 저장` 모드 사용 권장
- 문서 전체 전송보다 `선택 텍스트` 전송 권장
- 민감 정보 문서는 AI 기능 사용 전 비식별 처리 권장
- 경로에 `..` 또는 절대경로를 사용하지 마세요

## 8. 자주 묻는 질문

### Q1. HWPX 양식이 깨집니까?
A. 원본 템플릿을 유지해 익스포트하므로 기본 양식 보존에 유리합니다.

### Q2. AI 응답이 비어 있습니다.
A. API 키/모델/네트워크 상태를 확인하고 다시 시도하세요.

### Q3. 같은 파일명이 자꾸 충돌합니다.
A. `파일 충돌 처리`를 `새 버전 저장`으로 변경하세요.

### Q4. 템플릿이 잘못 연결됐습니다.
A. `HWPX 템플릿 관리`에서 `현재 노트 연결`로 재지정하세요.

## 9. 관련 문서
- 설치: `Install.md`
- 시연: `Showcase.md`
- 문제해결: `TroubleShooting.md`
- 개발자 문서: `Developer.md`
