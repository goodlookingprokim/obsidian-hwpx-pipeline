# Project.md

## 1. 문서 목적
이 문서는 `HWPX Pipeline`과 유사한 문서 자동화 플러그인을 기획/개발하려는 팀을 위한 프로젝트 가이드입니다.

- 대상: PM, 테크리드, 아키텍트, 개발팀
- 범위: 요구사항 정의부터 릴리스/운영까지

## 2. 프로젝트 목표 템플릿

## 2.1 비즈니스 목표
- 문서 작성/변환 시간 단축
- 기존 문서 포맷(HWPX 등) 호환성 확보
- 생성형 AI 도입 시 통제 가능한 보안 정책 적용

## 2.2 사용자 목표
- 기존 문서 자산을 버리지 않고 전환
- 충돌/버전/템플릿 관리 자동화
- 설치/업데이트/문제 해결 문서의 일관성

## 2.3 기술 목표
- 로컬 우선(Local-first) 동작
- 플러그인 독립 배포 가능
- 테스트 자동화와 릴리스 재현성 확보

## 3. 요구사항 프레임워크

## 3.1 기능 요구사항 (Must)
1. 포맷 양방향 변환 (예: HWPX ↔ Markdown)
2. 템플릿 기반 출력
3. 파일 충돌 정책 (ask/version/skip/overwrite)
4. 보안 설정 가능한 AI 보조 작성
5. 설치/운영 문서 제공

## 3.2 비기능 요구사항 (Must)
1. 대용량 문서 처리 내구성
2. 경로 조작 방지
3. 민감 데이터 최소 전송
4. 오류 메시지의 운영 친화성
5. 문서 포털 가독성 및 실행 재현성(복사 버튼, 실행 라벨) 확보

## 3.3 Nice-to-have
1. 배치 처리
2. 미리보기/검증 모달
3. 템플릿 관리 UI
4. 릴리스 자동화

## 4. 권장 아키텍처

## 4.1 모듈 분리
- `importer`: 외부 문서 -> 내부 편집 포맷
- `exporter`: 내부 편집 포맷 -> 외부 문서
- `ai-connector`: 외부 AI API 통신
- `safety`: 경로/입력/전송 안전성 검증
- `main`: 커맨드/모달/설정/오케스트레이션

## 4.2 데이터 흐름
1. 파일 선택
2. 경로/파일명 정제
3. 변환
4. 미리보기 확인
5. 저장 및 템플릿 연동

## 4.3 설정 정책 설계
- 사용자 친화 기본값 + 보안 기본값 동시 적용
- 예: API 키 비저장, 컨텍스트 길이 제한, 충돌 시 확인

## 5. 개발 단계 계획 (권장)

## 5.1 Phase 1: 코어 변환
- 임포트/익스포트 최소 기능 완성
- 샘플 데이터 기반 round-trip 검증

## 5.2 Phase 2: 운영 안전성
- 경로 검증
- 충돌 정책
- 예외 처리 정리

## 5.3 Phase 3: 사용자 경험
- 미리보기 모달
- 배치 처리
- 템플릿 관리

## 5.4 Phase 4: 보안/AI
- 전송 범위 제어
- 키 저장 정책
- 에러 메시지 민감 정보 제한

## 5.5 Phase 5: 문서/배포
- 사용자/개발자/설치/트러블슈팅 문서
- GitHub Release와 자산 배포
- GitHub Pages 문서 포털 배포(역할 분리 + URL/코드 복사 UX)

## 6. 테스트 전략

## 6.1 최소 테스트 세트
1. 빌드 테스트: `npm run build`
2. 타입 테스트: `npx tsc --noEmit`
3. 통합 테스트: `npm test`

## 6.2 통합 테스트 권장 항목
- Round-trip 핵심 문구 보존 여부
- 첫 문단/표 누락 여부
- CRLF frontmatter 파싱
- 길이 제한 트렁케이션
- 대용량 본문 익스포트 내구성

## 7. 보안 체크리스트
- 경로가 Vault 상대경로인지 확인
- 파일명 정제 적용 여부
- API 키 평문 노출 방지 여부
- 외부 API 전송 데이터 최소화 여부
- 오류 메시지에 민감 본문 포함 여부

## 8. 운영 체크리스트

## 8.1 배포 전
1. 문서 최신화
2. 버전 동기화 (`manifest.json`, `package.json`, `versions.json`)
3. 릴리스 노트 작성

## 8.2 배포 후
1. 설치 검증
2. 주요 플로우 실사용 테스트
3. 사용자 FAQ/이슈 수집

## 9. 성과 지표 (KPI)
- 평균 문서 작성 시간 절감률
- 포맷 깨짐/실패율
- AI 기능 사용률
- 사용자 만족도 (설문)
- 장애 대응 평균 시간

## 10. 문서 산출물 템플릿
- 시연: `Showcase.md`
- 설치: `Install.md`
- 사용자: `UserGuide.md`
- 개발자: `Developer.md`
- 문제 해결: `TroubleShooting.md`

## 11. 추천 확장 과제
1. HTML/PDF 추가 익스포트
2. 조직 정책 기반 프롬프트 템플릿
3. 문서 품질 자동 점검 (표기/형식 검증)
4. CI 기반 자동 릴리스
